<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Пример 3</title>

        <link href="css/lib/jquery.kladr.min.css" rel="stylesheet">
        <!-- <link href="css/example3.css" rel="stylesheet"> -->

        <script src="js/lib/jquery-1.10.2.min.js" type="text/javascript"></script>
        <script src="js/lib/jquery.kladr.min.js" type="text/javascript"></script>
        <script src="js/example3.js" type="text/javascript"></script>
    </head>
    <body id="example3">
        <div class ="address">
            <div class="field">
                <label>Населённый пункт:</label>
                <input name="location" type="text" value="">
            </div>
            <div class="field field-end">
                <label>Улица:</label>
                <input name="street" type="text">
            </div>
        </div>
    </body>
</html>

<script>    
(function($){
    $(function() {
        var container = $('#example3');
        
        // Автодополнение населённых пунктов
        container.find( '[name="location"]' ).kladr({
            token: '51dfe5d42fb2b43e3300006e',
            key: '86a2c2a06f1b2451a87d05512cc2c3edfdf41969',
            type: $.kladr.type.city,
            select: function( obj ) {
                // Изменения родительского объекта для автодополнения улиц
                container.find( '[name="street"]' ).kladr('parentId', obj.id);
            }
        });

        // Автодополнение улиц
        container.find( '[name="street"]' ).kladr({
            token: '51dfe5d42fb2b43e3300006e',
            key: '86a2c2a06f1b2451a87d05512cc2c3edfdf41969',
            type: $.kladr.type.street,
            parentType: $.kladr.type.city
        });
    });
})(jQuery);
</script>